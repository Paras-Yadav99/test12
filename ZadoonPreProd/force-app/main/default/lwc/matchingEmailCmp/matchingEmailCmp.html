<template>
	<lightning-card>
		<!--<lightning-card title={title} icon-name="standard:dashboard">-->
			<header class="slds-box_header ">
				<div class="component-header-container">
					<lightning-layout style="border-radius: 8px !important; background: #302E2E;color:White"
						class="slds-action-overflow--touch__footer slds-align--absolute-center slds-avatar-grouped_inverse">
						<div class="slds-grid slds-col slds-size--1-of-1 ">
							<div class=" slds-align--absolute-center ">
								<lightning-icon class="slds-align-bottom " icon-name="utility:email" size="small">
								</lightning-icon>
								<span
                        style=" font-size: 20px"
                        class="slds-p-left--x-small"
                        >{title}
                      </span>
							</div>
						</div>

					</lightning-layout>
				</div>

			</header>
		<div class="component-header-container">
			<!-- <lightning-layout
				class="slds-action-overflow--touch__footer slds-align--absolute-center slds-avatar-grouped_inverse">
				<span style="font-weight: bold" class="slds-align--absolute-center" icon-name="standard:email">{title}
                    </span>
			</lightning-layout> -->
		</div>
		<!--Spinner on Card-->
		<template if:true={showSpinner}>
			<lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
		</template>
		<div style="height: 500px" class="slds-align--absolute-center ">
			<template if:true={selectionScreen}>
				<div class=" slds-align--absolute-center slds-template_profile slds-app-launcher__tile-body--small">
					<table>
						<tbody>
							<tr>
								<td>
									<div class="centered-checkbox">
										<lightning-input type="checkbox" label="Dealer Email" checked={DealerEmail}
											onchange={handleCheckboxChange}></lightning-input>
									</div>
								</td>
							</tr>
							<tr>
								<td>
									<div class="centered-checkbox">
										<lightning-input type="checkbox" label="Advertising/Price Drop Email"
											checked={AdvertisingEmail} onchange={handleCheckboxChange}>
										</lightning-input>
									</div>
								</td>
							</tr>

						</tbody>
					</table>
				</div>
			</template>

			<template if:true={showActiveUnits}>
				<div
					class="slds-box slds-theme_default slds-text-align_center slds-scrollable_x slds-action-overflow--touch__container">
					<div style="overflow-x: auto;">
						<c-custom-datatable columns={columns} records={activeUnitRecords}
							is-hide-check-box={isHideCheckBox} is-show-row-number={isShowRowNumber}
							number-of-records-per-pages={numberOfRecordsPerPage} lst-selected-rows={selectedRows}
							onselect={handleRowSelection} number-of-selected-rows={numberOfSelectedRows}>
						</c-custom-datatable>
					</div>
				</div>
			</template>

			<template if:true={showAccountrecords}>
				<div
					class="slds-box slds-theme_default slds-text-align_center slds-scrollable_x slds-action-overflow--touch__container">
					<div style="overflow-x: auto;">
						<c-custom-datatable columns={Accountcolumns} records={AccountRecords}
							is-hide-check-box={isHideCheckBox} is-show-row-number={isShowRowNumber}
							number-of-records-per-pages={numberOfRecordsPerPage} lst-selected-rows={AccountselectedRows}
							onselect={handleAccountRowSelection} number-of-selected-rows={numberOfSelectedAccRows}>
						</c-custom-datatable>
					</div>
				</div>

			</template>

			<template if:true={showPicklistOption}>

				<div class="slds-p-around_small slds-scrollable_x">
					<lightning-dual-listbox name="Client type" label="Select Client Type" source-label="Available"
						selected-label="Selected" field-level-help="Select your Client Type" options={lstOptions}
						value={clientTypePicklist} onchange={handleChange}></lightning-dual-listbox>
					<br/>
						</div>

			</template>
			<template if:true={showDealerPicklistOption}>
				<div class="slds-p-around_small slds-scrollable_x">
					<lightning-dual-listbox name="Authorized Dealer" label="Select Authorized Dealer"
						source-label="Available" selected-label="Selected" field-level-help="Select Authorized Dealer"
						options={lstAuthDealerOptions} value={clientTypePicklist} onchange={handleChange}>
					</lightning-dual-listbox>
					<br/>
							</div>

			</template>

			<template if:true={showActiveUnitsWithDealerType}>
				<div
					class="slds-box slds-theme_default slds-text-align_center slds-scrollable_x slds-action-overflow--touch__container">
					<div style="overflow-x: auto;">

						<c-custom-datatable columns={columns} records={unitRecordsBasedOnManufacturer}
							is-hide-check-box={isHideCheckBox} is-show-row-number={isShowRowNumber}
							number-of-records-per-pages={numberOfRecordsPerPage} lst-selected-rows={selectedRows}
							onselect={handleRowSelection} number-of-selected-rows={numberOfSelectedRows}>
						</c-custom-datatable>
					</div>
				</div>
			</template>

		</div>
		<div slot="footer" style="text-align: center;">
			<!-- <lightning-modal-footer> -->
			<lightning-button label="Previous" onclick={handlePrevious} disabled={isPreviousDisabled}>
			</lightning-button>
			<span style="margin: 0 8px;"></span>
			<template if:true={showNextButton}>
				<lightning-button label="Next" onclick={handleNext} disabled={isNextDisabled}></lightning-button>
				<span style="margin: 0 8px;"></span>
			</template>
			<template if:true={showClearButton}>
				<lightning-button label="Clear" onclick={handleClear} disabled={isClearDisabled}></lightning-button>
				<span style="margin: 0 8px;"></span>
			</template>

			<template if:true={showEmailButton}>
				<lightning-button label="Send Email" onclick={handleSendEmail} disabled={isSendEmailDisabled}>
				</lightning-button>
				<span style="margin: 0 8px;"></span>
			</template>

			<lightning-button label="Close" onclick={handleClose}></lightning-button>
			<!-- </lightning-modal-footer> -->
		</div>
	</lightning-card>
</template>